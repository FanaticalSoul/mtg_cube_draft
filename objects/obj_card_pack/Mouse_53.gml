/// @description Insert description here


randomize();


var _cube = [[
	"Crystal Barricade",
	"Ossification",
	"Sublime Archangel",
	"Hyena Umbra",
	"Spirit of the Labyrinth",
	"Clarion Spirit",
	"Baneslayer Angel",
	"Gideon Jura",
	"Giant Killer",
	"Lion Sash",
	"Student of Warfare",
	"Elspeth, Knight-Errant",
	"Elspeth, Sun\'s Champion",
	"Sun Titan",
	"Cathar Commando",
	"Oblivion Ring",
	"Luminarch Aspirant",
	"Giver of Runes",
	"Restoration Angel",
	"Ephemerate",
	"Thalia, Guardian of Thraben",
	"Path to Exile",
	"Swords to Plowshares"
	], [
	"Mirrorhall Mimic",
	"Pondering Mage",
	"Fading Hope",
	"Enclave Cryptologist",
	"Frost Titan",
	"Blink of an Eye",
	"Talrand, Sky Summoner",
	"Delver of Secrets",
	"Thing in the Ice",
	"Riftwing Cloudskate",
	"Baral, Chief of Compliance",
	"Serum Visions",
	"Consider",
	"Treasure Cruise",
	"Fact or Fiction",
	"Spell Pierce",
	"Mystic Confluence",
	"Mulldrifter",
	"Jace, the Mind Sculptor",
	"Snapcaster Mage",
	"Remand",
	"Mana Leak",
	"Counterspell"
	], [
	"The Cruelty of Gix",
	"Apprentice Necromancer",
	"First-Sphere Gargantua",
	"Agonizing Remorse",
	"Doom Whisperer",
	"Nighthawk Scavenger",
	"Liliana, Death\'s Majesty",
	"Skyclave Shade",
	"Village Rites",
	"Cast Down",
	"Doom Blade",
	"Gutterbones",
	"Woe Strider",
	"Unearth",
	"Bloodchief\'s Thirst",
	"Shriekmaw",
	"Bitterblossom",
	"Grave Titan",
	"Dark Confidant",
	"Ravenous Chupacabra",
	"Fatal Push",
	"Inquisition of Kozilek",
	"Murderous Rider"
	], [
	"Temur Battle Rage",
	"Kiln Fiend",
	"Phoenix of Ash",
	"Light Up the Stage",
	"Kari Zev, Skyship Raider",
	"Hellrider",
	"Goblin Guide",
	"Inferno Titan",
	"Glorybringer",
	"Laelia, the Blade Reforged",
	"Goblin Rabblemaster",
	"Incinerate",
	"Seasoned Pyromancer",
	"Dragon\'s Rage Channeler",
	"Chandra, Torch of Defiance",
	"Grim Lavamancer",
	"Monastery Swiftspear",
	"Burst Lightning",
	"Young Pyromancer",
	"Bonecrusher Giant",
	"Faithless Looting",
	"Abrade",
	"Lightning Bolt"
	], [
	"Quilled Greatwurm",
	"Kalonian Hydra",
	"Fertilid",
	"Rampaging Baloths",
	"Incubation Druid",
	"Llanowar Visionary",
	"Rishkar, Peema Renegade",
	"Avenger of Zendikar",
	"Tarmogoyf",
	"Wall of Roots",
	"Cultivate",
	"Rancor",
	"Acidic Slime",
	"Regrowth",
	"Thragtusk",
	"Oracle of Mul Daya",
	"Nissa, Who Shakes the World",
	"Primeval Titan",
	"Sakura-Tribe Elder",
	"Elvish Mystic",
	"Scavenging Ooze",
	"Eternal Witness",
	"Llanowar Elves"
	], [
	"Prophet of Kruphix",
	"Basilisk Collar",
	"Lotleth Troll",
	"Sorin, Lord of Innistrad",
	"Grim Flayer",
	"Cloudblazer",
	"Trostani Discordant",
	"Falkenrath Aristocrat",
	"Huntmaster of the Fells",
	"Spell Queller",
	"Psychic Frog",
	"Voice of Resurgence",
	"Growth Spiral",
	"Boros Charm",
	"Abrupt Decay",
	"Thief of Sanity",
	"Dragonlord Atarka",
	"Sprite Dragon",
	"Terminate",
	"Izzet Charm",
	"Nahiri, the Harbinger",
	"Ornithopter of Paradise",
	"Soulherder",
	"Tidehollow Sculler",
	"Hydroid Krasis",
	"Wurmcoil Engine",
	"Mind Stone",
	"Solemn Simulacrum",
	"Bloodbraid Elf",
	"Expressive Iteration",
	"Knight of Autumn",
	"Vindicate",
	"Lightning Helix",
	"Kolaghan\'s Command",
	"Baleful Strix"
	], [
	"Simic Guildgate",
	"Izzet Guildgate",
	"Gruul Guildgate",
	"Rakdos Guildgate",
	"Golgari Guildgate",
	"Dimir Guildgate",
	"Selesnya Guildgate",
	"Boros Guildgate",
	"Azorius Guildgate",
	"Orzhov Guildgate",
	"Temple of Triumph",
	"Temple of Abandon",
	"Temple of Malice",
	"Temple of Plenty",
	"Temple of Epiphany",
	"Temple of Malady",
	"Temple of Deceit",
	"Temple of Enlightenment",
	"Temple of Mystery",
	"Temple of Silence",
	"Sheltering Landscape",
	"Tranquil Landscape",
	"Deceptive Landscape",
	"Contaminated Landscape",
	"Twisted Landscape",
	"Shattered Landscape",
	"Perilous Landscape",
	"Seething Landscape",
	"Bountiful Landscape",
	"Foreboding Landscape"
]];



var _c1 = 9;
var _c2 = 4;
var _c3 = 2;
var _u1 = 4;
var _u2 = 2;
var _r1 = 2;

var _c1_m = 15;
var _c2_m = 8;
var _c3_m = 2;
var _u1_m = 6;
var _u2_m = 2;
var _r1_m = 2;

var _l1 = 20;
var _l2 = 10;

var _c1_arr = [];
var _c2_arr = [];
var _c3_arr = [];
var _u1_arr = [];
var _u2_arr = [];
var _r1_arr = [];
var _l1_arr = [];
var _l2_arr = [];

for (var i = 0; i < array_length(_cube); i++) {
	for (var j = 0; j < array_length(_cube[i]); j++) {
		var _card = _cube[i][j];
		if (i < 5) {
			if      (j < _c1) array_push(_c1_arr, _card);
			else if (j < _c1+_c2) array_push(_c2_arr, _card);
			else if (j < _c1+_c2+_c3) array_push(_c3_arr, _card);
			else if (j < _c1+_c2+_c3+_u1) array_push(_u1_arr, _card);
			else if (j < _c1+_c2+_c3+_u1+_u2) array_push(_u2_arr, _card);
			else if (j < _c1+_c2+_c3+_u1+_u2+_r1) array_push(_r1_arr, _card);
		}
		else if (i == 6) {
			if      (j < _c1_m) array_push(_c1_arr, _card);
			else if (j < _c1_m+_c2_m) array_push(_c2_arr, _card);
			else if (j < _c1_m+_c2_m+_c3_m) array_push(_c3_arr, _card);
			else if (j < _c1_m+_c2_m+_c3_m+_u1_m) array_push(_u1_arr, _card);
			else if (j < _c1_m+_c2_m+_c3_m+_u1_m+_u2_m) array_push(_u2_arr, _card);
			else if (j < _c1_m+_c2_m+_c3_m+_u1_m+_u2_m+_r1_m) array_push(_r1_arr, _card);
		}
		else if (i == 7) {
			if      (j < _l1) array_push(_l1_arr, _card);
			else if (j < _l1+_l2) array_push(_l2_arr, _card);
		}
		//show_debug_message(_cube[i][j]);
	}
}

var _pack_composition = [{
	count : 4, // packs per player
	cards : [
		// lands
		1, // l1
		0, // l2
		// cards
		3, // c1
		1, // c2
		1, // c3
		1, // u1
		0, // u2
		0  // r1
	]
},{
	count : 2, // packs per player
	cards : [
		// cards
		2, // c1
		1, // c2
		0, // c3
		1, // u1
		1, // u2
		1, // r1
		// lands
		1, // l1
		0  // l2
	]
},{
	count : 2, // packs per player
	cards : [
		// cards
		2, // c1
		1, // c2
		0, // c3
		1, // u1
		1, // u2
		1, // r1
		// lands
		0, // l1
		1  // l2
	]
}];

var _cards = [_c1_arr, _c2_arr, _c3_arr, _u1_arr, _u2_arr, _r1_arr, _l1_arr, _l2_arr];





// delete all card objects // TF
while (instance_exists(obj_card)) {
	instance_destroy(obj_card);
}







// create a test pack
var _pack = [];
var _pack_c1_comp = _pack_composition[0];

var _tmp_x = card_x/2;
var _tmp_y = card_y/2;
for (var i = 0; i < _pack_c1_comp.count; i++) {
	_pack = [];
	for (var j = 0; j < array_length(_cards); j++) {
		for (var k = 0; k < _pack_c1_comp.cards[j]; k++) {
			// add shuffle method in // WoL
			var _selection = array_shuffle(_cards[j]);
			var _card = _selection[0];
			// add card
			array_push(_pack, _card);
		}
	}
	// add shuffle method in // WoL
	_pack = array_shuffle(_pack);
	// draw the cards in the pack
	for (var j = 0; j < array_length(_pack); j++) {
		var _card = _pack[j];
		var _sprite = asset_get_index(get_file_img(_card));
		//show_debug_message(_sprite);
		//show_debug_message(_sprite);
		var _obj_card = instance_create_layer(_tmp_x, _tmp_y, "Instances", obj_card);
		if (sprite_exists(_sprite)) {
			_obj_card.sprite_index = _sprite;
		}
		_tmp_x += card_x;
	}
}

/*
[ "Remand","Path to Exile","Regrowth","Sakura-Tribe Elder","Contaminated Landscape","Cathar Commando","Izzet Guildgate" ]
[ "Contaminated Landscape","Elvish Mystic","Primeval Titan","Swords to Plowshares","Chandra, Torch of Defiance","Contaminated Landscape","Azorius Guildgate" ]
[ "Dragon's Rage Channeler","Primeval Titan","Inferno Titan","Thragtusk","Swords to Plowshares","Fact or Fiction","Thalia, Guardian of Thraben" ]
[ "Thragtusk","Ravenous Chupacabra","Unearth","Abrade","Perilous Landscape","Talrand, Sky Summoner","Regrowth" ]
*/